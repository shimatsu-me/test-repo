# Git Commit Guidelines（IBR）

## Guidelines の目的

**① コード変更意図の早期理解（未来の実装者/運用者のため）**

- コードの変更意図をわかりやすく伝えることができる

**② レビュー時間の短縮（レビュワーのため）**

- コードの変更意図をわかりやすく伝えることができる

**③push 後のコミットの変更の容易化（実装者/自分のため）**

- push 後に変更があった場合、revert して修正するのが簡単になる

## コミット時の Point

- コミットの粒度を小さくする
- コミットメッセージに接頭辞をつける
- コミットメッセージには、「対象」と「動詞」を含める
- コミットメッセージには、「何のために」を含める
- コミットメッセージは、端的に

### コミットの粒度を小さくする

```
【悪い例】
- 1つのコミットに、複数機能や関連がない複数箇所の修正を含める

【良い例】
- 1つのコミットには、1つの機能や1つの修正を含める

【修正理由】
- コードの変更意図がわからなくなってしまう
```

### コミットメッセージに接頭辞をつける

- [Add]：新機能や新しいファイルの追加
- [Update]: 既存の機能の変更や修正
- [Fix]: バグ修正
- [Remove]: 不要なコードやファイルの削除
- [Refactor]: コードのリファクタリング
- [Test（or Rspec）]: テストコードの追加や修正
- [Docs]: ドキュメントの変更
- [Chore（or Config）]: ビルドプロセスや設定ファイルの変更

```
【悪い例】
ログイン画面の修正

【良い例】
[Fix]ログイン画面の修正
→バグ修正だと一目でわかる。

[Update]ログイン画面の修正
→既存機能を新しいものに変更・修正したことが一目でわかる。

【修正理由】
- レビュワーがコミットの意図を理解するまで時間がかかってしまう。
```

### コミットメッセージには、「対象」と「動詞（or 動詞の名詞 ver.）」を含める

```
【悪い例】
[Fix]修正

【良い例】
[Fix]ログイン機能の修正
→対象は「ログイン機能」、動詞は「修正」。

【修正理由】
- レビュワーがどのコミットから読めば良いのか判断する時間がかかってしまうため。1つ1つのコミットを確認しなければいけない。
```

### コミットメッセージには、「何のために（コードの変更意図）」を含める

```
【悪い例】
[Fix]ログイン機能の修正

【良い例】
[Fix]正しくログインできるように、ログイン機能を修正

【修正理由】
- 「何のために」修正をしたかをコミットメッセージに含めることで、実装者の意図をレビュワーが素早く理解することができます。
```

### コミットメッセージは、端的に

```
【悪い例】
[Fix]ユーザーがログインできない原因箇所を修正し、正しくログインできるようにログイン機能を修正

【良い例】
[Fix]正しくログインできるように、ログイン機能を修正

【修正理由】
- 長いコミットメッセージは、レビュー者を混乱させたり、レビュー時間の増加につながるため、端的なコミットを心がけましょう。
- 変更前の状態はコードを読めばわかるため、修正後・変更後の状態のみを書くのが良いです。
- コミットメッセージが長くなる場合は、コミットの粒度を小さくすることを検討しましょう。
```
